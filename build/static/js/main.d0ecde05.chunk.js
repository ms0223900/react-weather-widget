(this["webpackJsonpreact-weather-widget"]=this["webpackJsonpreact-weather-widget"]||[]).push([[0],{27:function(e){e.exports=JSON.parse('{"weatherStatus_icon_status_1":{"name":"weatherStatus_icon_status_1","src":"./asset/images/icon/weather-status/icon-weather-1.svg"},"weatherStatus_icon_status_2":{"name":"weatherStatus_icon_status_2","src":"./asset/images/icon/weather-status/icon-weather-2.svg"},"weatherStatus_icon_status_3":{"name":"weatherStatus_icon_status_3","src":"./asset/images/icon/weather-status/icon-weather-3.svg"},"weatherStatus_icon_status_4":{"name":"weatherStatus_icon_status_4","src":"./asset/images/icon/weather-status/icon-weather-4.svg"},"weatherStatus_icon_status_5":{"name":"weatherStatus_icon_status_5","src":"./asset/images/icon/weather-status/icon-weather-5.svg"},"weatherStatus_icon_status_6":{"name":"weatherStatus_icon_status_6","src":"./asset/images/icon/weather-status/icon-weather-6.svg"},"icons_weather_pop":{"name":"icons_weather_pop","src":"./asset/images/icon/icon-weather-pop.png"}}')},48:function(e,t,a){e.exports=a(56)},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),c=a(85),s=a(80),u=a(87),l=a(84),m={getIconNumFromWxValue:function(e){var t=Number(e);return 1===t?1:t>=2&&t<=3||t>=24&&t<=28?2:8===t?4:t>=4&&t<=10?3:11===t||12===t||15===t||t>=18&&t<=23||30===t||34===t||t>=37&&t<=39||41===t?4:13===t||14===t||t>=29&&t<=32?5:6}},h=a(27),p=Object(s.a)((function(e){return{root:{width:100,margin:"auto","& img":{display:"block",width:"100%"}}}})),g=function(e){var t=e.wxName,a=e.wxValue,n=m.getIconNumFromWxValue(a),o=h["weatherStatus_icon_status_".concat(n)],i=p();return r.a.createElement(u.a,{className:i.root},r.a.createElement("img",{src:o.src,alt:o.name,title:t}))},f=a(82),w=Object(s.a)((function(e){return{root:{fontWeight:600,color:"#555"}}})),d=function(e){var t=e.temperature,a=w();return r.a.createElement(f.a,{className:a.root,variant:"h6"},t,r.a.createElement("sup",null,"\xb0"),"C")},v=Object(s.a)((function(e){return{root:{},connector:{paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5)}}})),_=function(e){var t=e.minTemperature,a=e.maxTemperature,n=v();return r.a.createElement(u.a,{display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(d,{temperature:t}),r.a.createElement(f.a,{className:n.connector},"-"),r.a.createElement(d,{temperature:a}))},E=Object(s.a)((function(e){return{root:{margin:"auto"},popIcon:{width:20},pop:{fontWeight:100,color:"#555",paddingLeft:e.spacing(1)}}})),b=function(e){var t=e.pop,a=E();return r.a.createElement(u.a,{className:a.root,display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement("img",{className:a.popIcon,src:h.icons_weather_pop.src,title:"\u964d\u96e8\u6a5f\u7387",alt:h.icons_weather_pop.name}),r.a.createElement(f.a,{className:a.pop,variant:"body"},"".concat(t," %")))},S=a(86),O=a(88),x=function(e){var t=e.options,a=void 0===t?[]:t,n=e.value,o=void 0===n?"":n,i=e.onSelect;return r.a.createElement(S.a,{value:o,onChange:i,fullWidth:!0},a.map((function(e,t){return r.a.createElement(O.a,{key:t,value:e.value},e.text)})))},j=Object(s.a)((function(e){return{root:{maxWidth:160,margin:"auto",borderRadius:e.spacing(1),padding:e.spacing(1),boxShadow:"0px 0px 10px #ccc"}}})),N=function(e){var t=j();return r.a.createElement(u.a,{className:t.root},r.a.createElement(g,e),r.a.createElement(_,e),r.a.createElement(b,e),r.a.createElement(l.a,null),r.a.createElement(x,e))},W=a(40),C=a(25);var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(C.a)(t,2),r=a[0],o=a[1],i=Object(n.useCallback)((function(e){var t=e.target.value;o(t)}),[]);return{value:r,setValue:o,handleChange:i}},y={getSingleWeatherDataFromElementTimes:function(e){return e[0].parameter.parameterName},getSingleWeatherDataParameterValueFromElementTimes:function(e){return e[0].parameter.parameterValue},getCountyWeatherData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u81fa\u5317\u5e02",a={pop:"0",minTemperature:24,maxTemperature:24,wxValue:"0",wxName:""};if(e){var n=e.records.location.find((function(e){return e.locationName===t}));if(n){var r=n.weatherElement.find((function(e){return"PoP"===e.elementName})),o=n.weatherElement.find((function(e){return"MinT"===e.elementName})),i=n.weatherElement.find((function(e){return"MaxT"===e.elementName})),c=n.weatherElement.find((function(e){return"Wx"===e.elementName}));r&&o&&i&&c&&(a={pop:this.getSingleWeatherDataFromElementTimes(r.time),minTemperature:this.getSingleWeatherDataFromElementTimes(o.time),maxTemperature:this.getSingleWeatherDataFromElementTimes(i.time),wxValue:this.getSingleWeatherDataParameterValueFromElementTimes(c.time),wxName:this.getSingleWeatherDataFromElementTimes(c.time)})}return a}return a},getCountyOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var t=e.records.location.map((function(e){return{text:e.locationName,value:e.locationName}}));return t}return[]}},T=function(){var e=function(e){var t=e.apiUrl,a=e.initResponseData,r=e.requestInit,o=Object(n.useState)(!1),i=Object(C.a)(o,2),c=i[0],s=i[1],u=Object(n.useState)(),l=Object(C.a)(u,2),m=l[0],h=l[1],p=Object(n.useState)(a),g=Object(C.a)(p,2),f=g[0],w=g[1];return{loading:c,error:m,handleFetch:Object(n.useCallback)((function(){s(!0),fetch(t,r).then((function(e){return e.json()})).then((function(e){return w(e)})).catch((function(e){console.error(e),h(e)})).finally((function(){s(!1)}))}),[t,r]),responseData:f}}({apiUrl:"https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization=CWB-7CE23D86-293E-42EE-9745-B51DFD1A0C56",initResponseData:void 0}),t=e.handleFetch,a=e.responseData,r=D("\u81fa\u5317\u5e02"),o=r.value,i=r.handleChange;Object(n.useEffect)((function(){t()}),[t]);var c=Object(n.useMemo)((function(){return y.getCountyWeatherData(a,o)}),[a,o]),s=Object(n.useMemo)((function(){return y.getCountyOptions(a)}),[a]);return Object(W.a)({},e,{value:o,handleChange:i,weatherWidgetData:c,countyOptions:s})},F=function(){var e=T(),t=e.loading,a=e.value,n=e.handleChange,o=e.countyOptions,i=e.weatherWidgetData;return t?r.a.createElement(c.a,null):r.a.createElement(N,Object.assign({},i,{value:a,options:o,onSelect:n}))};var V=function(){return r.a.createElement("div",null,r.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.d0ecde05.chunk.js.map